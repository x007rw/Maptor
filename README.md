# Maptor

**「地図の上が、出会いの舞台になる。」**

Maptorは、時間と共に縮小する地図上の「円」を舞台に、偶然の出会いをゲーム感覚で楽しむ新感覚のリアルタイムマップイベントWebアプリケーションです。

  
*(ここにスクリーンショットのURLを挿入すると、画像が表示されます)*

---

## ✨ コンセプト

従来のプロフィール検索型のマッチングアプリとは異なり、Maptorは「今、同じ場所にいる」という偶然性と、「円の中に留まる」という共通の目的を重視します。

*   **イベント性:** 毎日決まった時間に、その日限りのイベント（円）が地図上に出現します。
*   **ゲーム性:** 刻々と縮小する円の中に留まり続けるスリルが、参加者の一体感を生み出します。
*   **リアルな出会い:** プロフィールではなく、同じ空間と体験を共有することが、自然なコミュニケーションのきっかけとなります。

## 🚀 技術スタック

このプロジェクトは、モダンでサーバーレスな技術スタックで構築されています。

*   **フロントエンド:**
    *   HTML5
    *   CSS3
    *   JavaScript (ES6+)
    *   [Leaflet.js](https://leafletjs.com/): 地図描画ライブラリ
    *   [OpenStreetMap](https://www.openstreetmap.org/): 地図タイルデータ
*   **バックエンド (BaaS):**
    *   [Supabase](https://supabase.com/): データベース & イベント管理
*   **ホスティング:**
    *   [Netlify](https://www.netlify.com/): 静的サイトホスティング & 自動デプロイ
*   **開発ツール:**
    *   Git & GitHub: バージョン管理
    *   VS Code: コードエディタ
    *   Cursor: AIペアプログラミング

## 🛠️ セットアップとデプロイ

### 1. Supabaseのセットアップ

1.  Supabaseで新規プロジェクトを作成します。
2.  「SQL Editor」で以下のSQLを実行し、`events`テーブルを作成します。
    ```sql
    CREATE TABLE public.events (
      id bigint PRIMARY KEY generated by default as identity,
      start_time_utc timestamp with time zone NOT NULL,
      duration_seconds integer NOT NULL,
      initial_radius_m integer NOT NULL,
      final_radius_m integer NOT NULL,
      initial_lat double precision NOT NULL,
      initial_lng double precision NOT NULL,
      final_lat double precision NOT NULL,
      final_lng double precision NOT NULL,
      is_active boolean DEFAULT false NOT NULL
    );

    ALTER TABLE public.events ENABLE ROW LEVEL SECURITY;

    CREATE POLICY "Public read access" ON public.events
    FOR SELECT USING (true);
    ```
3.  「Table Editor」で`events`テーブルにテストデータを入力します。`is_active`を`true`に設定することを忘れないでください。
4.  「Project Settings」 > 「API」から、**URL**と**anon publicキー**を取得します。

### 2. ローカルでの開発

1.  このリポジトリをクローンします。
    ```bash
    git clone [リポジトリのURL]
    ```
2.  `public/app.js`の先頭にある`SUPABASE_URL`と`SUPABASE_ANON_KEY`を、ステップ1で取得した自分のキーに書き換えます。
3.  Live Serverなどの拡張機能を使って`public/index.html`を開きます。

### 3. Netlifyへのデプロイ

1.  このリポジトリをGitHubにプッシュします。
2.  Netlifyにサインアップし、GitHubリポジトリから新しいサイトを作成します。
3.  以下のビルド設定を行います。
    *   **Publish directory:** `public`
    *   **Build command:** (空欄)
4.  サイトをデプロイします。

---

## 今後の展望 (Next Steps)

*   [ ] ユーザーの現在地表示機能 (GPS)
*   [ ] PWA (Progressive Web App) 対応
*   [ ] イベント情報のローディング表示
*   [ ] 複数イベントの同時開催への対応
*   [ ] 管理者用ログイン機能の実装